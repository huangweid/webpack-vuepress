<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Day 01 webpack学习</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.baef0bdf.js" as="script"><link rel="preload" href="/assets/js/2.a8b10bf8.js" as="script"><link rel="preload" href="/assets/js/3.effdbc87.js" as="script"><link rel="prefetch" href="/assets/js/4.65d85ba5.js"><link rel="prefetch" href="/assets/js/5.befb78a8.js"><link rel="prefetch" href="/assets/js/6.20ce980f.js"><link rel="prefetch" href="/assets/js/7.bb350f02.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="day-01-webpack学习"><a href="#day-01-webpack学习" class="header-anchor">#</a> Day 01 webpack学习</h3> <h4 id="学习目标"><a href="#学习目标" class="header-anchor">#</a> 学习目标</h4> <p>一 能够理解webpack基本概念和作用</p> <p>二 能够掌握webpack使用步骤</p> <p>三 能够使用webpack相关配置</p> <p>四 能够使用webpack开发服务器</p> <p>【五】 能够查阅使用webpack中文文档</p> <h3 id="一-webpack的基本概念"><a href="#一-webpack的基本概念" class="header-anchor">#</a> 一 webpack的基本概念</h3> <h4 id="_1-为什么要学习webpack"><a href="#_1-为什么要学习webpack" class="header-anchor">#</a> 1. 为什么要学习webpack？</h4> <ol><li><p>将项目体积从大变小</p></li> <li><p>将代码从多变少</p></li> <li><p>提高浏览器的运行效率</p></li></ol> <p>生活案例：快递打包</p> <h4 id="_2-webpack是什么"><a href="#_2-webpack是什么" class="header-anchor">#</a> 2. webpack是什么？</h4> <ol><li>Webpack是打包工具，其实也就是Node.js的一个第三方模块包，类似于JQuery也是一个包</li> <li>官网：https://webpack.docschina.org/</li> <li>webpack就是把我们项目各种模块资源打包成浏览器所能识别的几种静态资源（html, js,css以及图片资源）。</li></ol> <p><img src="/assets/img/image-20220402085814891.519fc7e4.png" alt="image-20220402085814891"></p> <h3 id="二-webpack基本使用"><a href="#二-webpack基本使用" class="header-anchor">#</a> 二 webpack基本使用</h3> <h4 id="_1-webpack使用前有哪些准备"><a href="#_1-webpack使用前有哪些准备" class="header-anchor">#</a> 1. webpack使用前有哪些准备？</h4> <ol><li>初始化包的安装环境（通过执行下面命令会在demo根目录中生成一个记录安装包版本信息的package.json文件）</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> init
</code></pre></div><ol start="2"><li>安装使用webpack所需要的依赖包</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> webpack webpack-cli -D
</code></pre></div><ol start="3"><li>在package.json文件中配置scripts(自定义命令)</li></ol> <div class="language-json extra-class"><pre class="language-json"><code>scripts<span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-webpack基本使用-如何打包js文件"><a href="#_2-webpack基本使用-如何打包js文件" class="header-anchor">#</a> 2. webpack基本使用，如何打包js文件？</h4> <ol><li>新建src/add/add.js - 定义求和函数导出（用户准备快递的物品）</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">addFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b
</code></pre></div><ol start="2"><li>新建src/index.js并导入上一步创建的src/add/add.js文件（用户将物品送到快递点）</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>addFn<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./add/add'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">addFn</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>在cmd终端运行打包命令(快递点打包快递)</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> build
</code></pre></div><p>【注意观察】：此时在demo项目根目录下，与src文件夹同级会自动生成一个dist目录，并且dist目录下面有一个main.js的文件</p> <h4 id="_3-更新文件-如何将新文件打包"><a href="#_3-更新文件-如何将新文件打包" class="header-anchor">#</a> 3. 更新文件，如何将新文件打包？</h4> <ol><li><p>新建src/tool/tool.js - 定义导出数组求和方法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getArrSum</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+=</span> val<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>将src/tool/tool.js引入webpack的默认打包入口src/index.js中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>addFn<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./add/add'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>getArrSum<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./tool/tool'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">addFn</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getArrSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>在demo根目录下执行yarn build命令重新打包</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> build
</code></pre></div><p>【伏笔】：每次修改文件都需要再手动执行一次yarn build命令麻不麻烦呢？有没有自动检测文件改动然后自动打包的方法呢</p></li></ol> <h3 id="三-webpack文件配置"><a href="#三-webpack文件配置" class="header-anchor">#</a> 三 webpack文件配置</h3> <h4 id="_1-webpack如何修改默认的打包入口和打包出口"><a href="#_1-webpack如何修改默认的打包入口和打包出口" class="header-anchor">#</a> 1. webpack如何修改默认的打包入口和打包出口？</h4> <p>【查文档】https://webpack.docschina.org/concepts/#entry</p> <p><img src="/assets/img/img01.e09bd605.png" alt="image-20220402085814891"></p> <p>【步骤】</p> <ol><li><p>在demo项目根目录下新建一个webpack.config.js的文件</p></li> <li><p>在【官方文档】中找到入口和出口的配置，直接复制粘贴到webpack.config.js的文件中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>执行yarn build命令</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> build
</code></pre></div><p>【注意观察】此时打包后生成的dist目录下面不再是main.js而是咱们自己指定的bundle.js文件</p> <p>【注意】这是咱们第一次接触配置文件，以后还会接触其他的配置文件，比如后面要学的Vue的配置文件vue.config.js</p></li></ol> <h4 id="_2-webpack的打包流程是什么"><a href="#_2-webpack的打包流程是什么" class="header-anchor">#</a> 2. webpack的打包流程是什么？</h4> <p><img src="/assets/img/img002.d5661277.png" alt="image-20220402085814891"></p> <p>【注意】所有想要被打包的资源都要和「入口文件」产生直接/间接的关系才能被打包起来，否则不会被打包</p> <p>【注意】webpack打包的默认入口：src/index.js文件；默认出口：dist/main.js</p> <p>【思考】咱们打包的文件如何在浏览器上看效果呢？</p> <h4 id="_3-webpack案例-隔行变色"><a href="#_3-webpack案例-隔行变色" class="header-anchor">#</a> 3. webpack案例---隔行变色</h4> <ol><li><p>在demo项目根目录下新建一个public/index.html文件，并且写好要变色的DOM元素</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- ul&gt;li{我是第$个li}*10 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第1个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第2个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第3个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第4个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第5个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第6个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第7个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第8个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是第9个li<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>下载jquey包</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> jquery
</code></pre></div></li> <li><p>在main.js中导入jquery包，并实现隔行变色的逻辑</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 引入jquery</span>
<span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">'jquery'</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#app li:nth-child(odd)'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">)</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#app li:nth-child(even)'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>执行 yarn build 打包命令观察效果</p> <p><img src="/assets/img/img03.6f42d858.png" alt="image-20220402085814891"></p></li> <li><p>在public/index.html中手动引入bundle.js文件测试效果</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../dist/bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ol> <p>【思考】我们打包后是如何使得隔行变色的效果能在浏览器显示呢？通过手动引入的方式，那大家试想一下，难道以后每次修改一下文件都需要手动去重新引入才能看到效果吗？有没有什么自动的方式呢？</p> <h4 id="_4-webpack如何自动生成html文件"><a href="#_4-webpack如何自动生成html文件" class="header-anchor">#</a> 4. webpack如何自动生成HTML文件？</h4> <p>【文档】https://www.webpackjs.com/plugins/html-webpack-plugin/</p> <p><img src="/assets/img/img04.91792afc.png" alt="image-20220402085814891"></p> <p>【步骤】</p> <ol><li><p>下载插件</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> html-webpack-plugin  -D
</code></pre></div></li> <li><p>在webpack.config.js中配置插件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 引入自动生成 html 的插件</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...省略其他代码</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'./public/index.html'</span> <span class="token comment">// 以此为基准生成打包后html文件</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>重新打包</p> <p>【注意观察】观察dist下是否多出html并运行看效果</p> <p>【注意】这里咱们是第一次配置插件，以后需要配置更多的东西都是这个路子，先在官网上找到相应的配置，然后下载包，配置包，配置项不用自己手写，复制粘贴官网中的配置项即可，注意配置项的位置。</p> <p>【思考】webpack除了自动生成HTML文件还能做哪些事呢？</p></li></ol> <h3 id="四-webpack不同类型文件处理"><a href="#四-webpack不同类型文件处理" class="header-anchor">#</a> 四 webpack不同类型文件处理</h3> <h4 id="_1-webpack打包css文件的问题"><a href="#_1-webpack打包css文件的问题" class="header-anchor">#</a> 1. webpack打包css文件的问题？</h4> <p>【思考】webpack可以打包css文件吗？</p> <ol><li><p>在src文件夹下新建css/index.css文件并添加一段样式</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">li</span> <span class="token punctuation">{</span>
  <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>将新建的css/index.css文件引入到入口文件main.js中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token string">'./css/index.css'</span>
</code></pre></div></li> <li><p>执行yarn build命令打包,观察效果</p> <p><img src="/assets/img/img05.e823a53d.png" alt="image-20220402085814891"></p></li></ol> <p>【注意】webpack默认只能处理js类型的文件，要想处理其他类型的文件需要配置相应的loader去帮助它处理，loader称之为加载器</p> <h4 id="_2-webpack该如何打包css文件"><a href="#_2-webpack该如何打包css文件" class="header-anchor">#</a> 2.  webpack该如何打包css文件？</h4> <p>【文档】https://webpack.docschina.org/loaders/</p> <p><img src="/assets/img/img06.2aeefa09.png" alt="image-20220402085814891"></p> <p>【步骤】</p> <ol><li><p>安装style-loader和css-loader</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> style-loader css-loader -D
</code></pre></div></li> <li><p>在官网中找到相应的配置，复制到webpack.config.js中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...其他代码</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// loader的规则</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// 匹配所有的css文件</span>
            <span class="token comment">// use数组里从右向左运行</span>
            <span class="token comment">// 先用 css-loader 让webpack能够识别 css 文件的内容并打包</span>
            <span class="token comment">// 再用 style-loader 将样式, 把css插入到dom中</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>运行yarn build命令观察打包效果</p></li></ol> <p><img src="/assets/img/img07.43fef8b5.png" alt="image-20220402085814891"></p> <p><img src="/assets/img/img08.73bee6bb.png" alt="image-20220402085814891"></p> <p>【举一反三】这是咱们接触的第一个loader加载器配置，注意上一小节打包css时候的报错，以后只要是报错说缺少一个loader，都到官网里去找到对应的loader，下载好loader包，再复制官网配置到webpack.config.js的相应位置即可。</p> <p>【注意】配置loader是要注意loader的使用顺序，从右往左，这一小节是先用css-loader,再用style-loader；示例：use: [ &quot;style-loader&quot;, &quot;css-loader&quot;]</p> <h4 id="_3-webpack如何打包less文件"><a href="#_3-webpack如何打包less文件" class="header-anchor">#</a> 3. webpack如何打包less文件?</h4> <ol><li><p>新建src/less/index.less文件</p> <div class="language-less extra-class"><pre class="language-less"><code><span class="token variable">@size<span class="token punctuation">:</span></span>24px<span class="token punctuation">;</span>

<span class="token selector">ul, li</span><span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token variable">@size</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>在入口文件main.js中引入less文件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token string">&quot;./less/index.less&quot;</span>
</code></pre></div></li> <li><p>执行yarn build命令打包观察效果</p></li></ol> <p><img src="/assets/img/img09.545223a6.png" alt="image-20220402085814891"></p> <ol start="4"><li>下载less-loader依赖包</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> <span class="token function">less</span> less-loader -D
</code></pre></div><ol start="5"><li><p>从官网查找配置添加到webpack.config.js中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// loader的规则</span>
    <span class="token comment">// ...省略其他</span>
    <span class="token punctuation">{</span>
    	<span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    	<span class="token comment">// 使用less-loader, 让webpack处理less文件, 内置还会用less翻译less代码成css内容</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">'less-loader'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>执行yarn build命令再次打包，观察效果</p> <p><img src="/assets/img/img10.892a8789.png" alt="image-20220402085814891"></p></li></ol> <p>【注意】less-loader要配合着css-loader和style-loader一起用，下载less-loader包的时候要检查一下是否已经下载过css-loader和style-loader</p> <h4 id="_4-webpack如何打包图片资源"><a href="#_4-webpack如何打包图片资源" class="header-anchor">#</a> 4.  webpack如何打包图片资源?</h4> <p>【文档】https://webpack.docschina.org/guides/asset-modules/</p> <p><img src="/assets/img/img11.1aeaa701.png" alt="image-20220402085814891"></p> <p>【步骤】</p> <ol><li><p>在src/less/index.less文件中添加一个背景图（小于8KB）</p> <div class="language-less extra-class"><pre class="language-less"><code><span class="token selector">body</span><span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../assets/logo_small.png<span class="token punctuation">)</span></span> no<span class="token operator">-</span>repeat center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>在src/main.js下添加一个gif动图（大于8KB）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 引入图片-使用</span>
<span class="token keyword">import</span> imgUrl <span class="token keyword">from</span> <span class="token string">'./assets/1.gif'</span>
<span class="token keyword">const</span> theImg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">)</span>
theImg<span class="token punctuation">.</span>src <span class="token operator">=</span> imgUrl
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>theImg<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>webpack5版本无需下载任何依赖包，直接在配置loader的rules数组中加一个配置即可</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif|jpeg)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'asset'</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>执行yarn build打包命令，观察效果</li></ol> <p><img src="/assets/img/img12.9a70ef15.png" alt="image-20220402085814891"></p> <p><img src="/assets/img/img13.515a2b36.png" alt="image-20220402085814891"></p> <h4 id="_5-webpack将图片转成base64编码有什么优缺点"><a href="#_5-webpack将图片转成base64编码有什么优缺点" class="header-anchor">#</a> 5. webpack将图片转成base64编码有什么优缺点？</h4> <p>【优点】小图转base64可以减少浏览器请求次数</p> <p>【缺点】会增大文件的体积，大图转base64得不偿失</p> <h4 id="_6-webpack如何打包字体文件"><a href="#_6-webpack如何打包字体文件" class="header-anchor">#</a> 6. webpack如何打包字体文件？</h4> <ol><li><p>准备font文件放到src文件夹下</p></li> <li><p>在main.js引入iconfont.css</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 引入字体图标文件</span>
<span class="token keyword">import</span> <span class="token string">'./assets/fonts/iconfont.css'</span>
</code></pre></div></li> <li><p>在public/index.html中使用字体图标</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-weixin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>同上一小节中一样，在配置loader的地方添加相应的配置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span> <span class="token comment">// webpack5默认内部不认识这些文件, 所以当做静态资源直接输出即可</span>
    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(eot|svg|ttf|woff|woff2)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'asset/resource'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    	<span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'font/[name].[hash:6][ext]'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>运行yarn build命令观察打包效果</p> <p><img src="/assets/img/img14.ea12416b.png" alt="image-20220402085814891"></p></li></ol> <h4 id="_7-webpack如何对高版本js代码降级"><a href="#_7-webpack如何对高版本js代码降级" class="header-anchor">#</a> 7.webpack如何对高版本js代码降级？</h4> <p>【文档】https://webpack.docschina.org/loaders/babel-loader/</p> <ol><li><p>在main.js中写一段js的新语法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'你好！babel'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>执行yarn build观察打包结果</p> <p><img src="/assets/img/img15.6703836b.png" alt="image-20220402085814891"></p></li> <li><p>下载babel-loader @babel/core @babel/preset-env三个包</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> babel-loader @babel/core @babel/preset-env -D
</code></pre></div></li> <li><p>配置规则</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules|bower_components)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">]</span> <span class="token comment">// 预设:转码规则(用bable开发环境本来预设的)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>再执行yarn build命令打包观察效果</p> <p><img src="/assets/img/img16.f99d11c7.png" alt="image-20220402085814891"></p></li></ol> <p>【注意】做代码降级处理是为了更好的兼容性，有些浏览器不支持高版本的语法，比如像箭头函数，很多浏览器就不支持</p> <p>【拓展】babel是一个非常专业且强大的降低js语法版本的插件，大家可以在它的<a href="https://babeljs.io/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>在线体验高版本语法转低版本语法后的样子，有助于帮助大家理解高版本语法</p> <p><img src="/assets/img/img17.165f3a0e.png" alt="image-20220402085814891"></p> <h3 id="五-webpack开发服务器"><a href="#五-webpack开发服务器" class="header-anchor">#</a> 五 webpack开发服务器</h3> <h4 id="_1-webpack开发服务器是什么"><a href="#_1-webpack开发服务器是什么" class="header-anchor">#</a> 1. webpack开发服务器是什么？</h4> <ol><li>webpack开发服务器是能够帮助我们自动检测文件变化，并且自动按需更新打包。</li> <li>因为它能极大的提开发效率，所以是开发必备神器。</li></ol> <h4 id="_2-webpack开发服务器怎么使用"><a href="#_2-webpack开发服务器怎么使用" class="header-anchor">#</a> 2. webpack开发服务器怎么使用？</h4> <p>【文档】https://webpack.docschina.org/configuration/dev-server/</p> <p><img src="/assets/img/img18.a878ea70.png" alt="image-20220402085814891"></p> <p>【步骤】</p> <ol><li><p>下载webpack-dev-server包</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> webpack-dev-server -D
</code></pre></div></li> <li><p>在package.json中配置自定义启动命令</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack serve&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>运行服务器启动命令</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> serve
</code></pre></div></li></ol> <p>【注意】</p> <ol><li>从这一小节以后，包括后面的Vue课程咱们都以开发服务器的方式运行项目，而不是手动执行yarn build命令打包</li> <li>webpack开发服务器启动后项目的根目录下不会生成dist目录，它将打包后的包放到内存中，咱们看不见，不过它听过了一个端口号让咱们可以快速的访问</li></ol> <h4 id="_3-如何修改webpack开发服务器的相关配置"><a href="#_3-如何修改webpack开发服务器的相关配置" class="header-anchor">#</a> 3. 如何修改webpack开发服务器的相关配置？</h4> <p>【文档】https://webpack.docschina.org/configuration/dev-server/#devserverport</p> <p><img src="/assets/img/img19.d3c5dfbf.png" alt="image-20220402085814891"></p> <p>【步骤】以修改端口为例</p> <ol><li><p>在webpack.config.js中添加devServer配置项，webpack开发服务器所有配置都在这个配置项下</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...其他配置</span>
    <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">3000</span> <span class="token comment">// 指定端口号</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>修改完配置启动服务器,观察效果</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> serve
</code></pre></div><p><img src="/assets/img/img20.45602b94.png" alt="image-20220402085814891"></p></li></ol> <p>【注意】每次修改完webpack.config.js这个配置文件必须得重新启动服务才能使配置生效，修改src目录下的代码不需要重新启动</p> <p>【思考】为什么说webpack是node.js的第三方包？而不是js的第三方包？</p> <h3 id="六-今日总结"><a href="#六-今日总结" class="header-anchor">#</a> 六 今日总结</h3> <h4 id="_1-今日知识图谱"><a href="#_1-今日知识图谱" class="header-anchor">#</a> 1. 今日知识图谱</h4> <p><img src="/assets/img/img21.ab67cac9.png" alt="image-20220402085814891"></p> <h4 id="_2-今日作业"><a href="#_2-今日作业" class="header-anchor">#</a> 2. 今日作业</h4> <ol><li><p>从一个空白的文件夹开始，把今天所学的知识点都过一遍</p></li> <li><p>【附加】在打包时, 如何把css提取成一个独立的文件?</p> <p>效果：打包后的文件夹下多一个独立的css文件里有css代码</p> <p>提示：需要一个加载器，具体如何配置可以查找官方文档，也可百度搜索</p></li> <li><p>预习明天的笔记</p></li></ol> <h4 id="_3-面试题"><a href="#_3-面试题" class="header-anchor">#</a> 3. 面试题</h4> <p>【注意】面试题答案仅供参考，不用死记硬背，可以根据自己的理解总结出新的答案，言之有理即可！</p> <ol><li>什么是webpack？</li></ol> <p>​	webpack是一个模块化的打包工具，他可以将我们开发所需要的所有依赖打包整合成浏览器所需要的几种文件格式包，它可以压缩代码，转换文件，对高版本语法降级，极大的提高了开发效率以及浏览器运行效率。</p> <ol start="2"><li>webpack的优点是什么？</li></ol> <ul><li>专注于处理模块化的项目，能做到开箱即用，一步到位</li> <li>通过plugin扩展，完整好用又不失灵活</li> <li>通过loaders扩展, 可以让webpack把所有类型的文件都解析打包</li> <li>社区庞大活跃</li></ul> <ol start="3"><li>说一下webpack的打包流程？（理解下面这幅图）</li></ol> <p><img src="/assets/img/img02.85a10e48.png" alt="image-20220402085814891"></p> <ol start="4"><li>loader和plugin有什么区别？</li></ol> <ul><li><p>作用不同：</p> <p>Loader直译为&quot;加载器&quot;。Webpack将一切文件视为模块，但是webpack原生是只能解析js文件，如果想将其他文件也打包的话，就会用到loader。 所以Loader的作用是让webpack拥有了加载和解析非JavaScript文件的能力。</p> <p>Plugin直译为&quot;插件&quot;。Plugin可以扩展webpack的功能，让webpack具有更多的灵活性。 在 Webpack 运行的生命周期中会广播出许多事件，Plugin 可以监听这些事件，在合适的时机通过 Webpack 提供的 API 改变输出结果。</p></li> <li><p>用法不同：</p> <p>Loader在module.rules中配置，也就是说他作为模块的解析规则而存在。 类型为数组，每一项都是一个Object，里面描述了对于什么类型的文件（test），使用什么加载(loader)和使用的参数（options）</p> <p>Plugin在plugins中单独配置。 类型为数组，每一项是一个plugin的实例，参数都通过构造函数传入。</p></li></ul> <ol start="5"><li>webpack有哪些常用的loader？它们的作用都是什么？
<ol><li>css-loader：加载 CSS，支持模块化、压缩、文件导入等特性</li> <li>style-loader：把 CSS 代码注入到 JavaScript 中，通过 DOM 操作去加载 CSS。</li> <li>less-loader: 转换less代码</li> <li>babel-loader：把 ES6 转换成 ES5</li> <li>file-loader：把文件输出到一个文件夹中，在代码中通过相对 URL 去引用输出的文件。</li> <li>url-loader：和 file-loader 类似，但是能在文件很小的情况下以 base64 的方式把文件内容注入到代码中去。</li></ol></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.baef0bdf.js" defer></script><script src="/assets/js/2.a8b10bf8.js" defer></script><script src="/assets/js/3.effdbc87.js" defer></script>
  </body>
</html>
